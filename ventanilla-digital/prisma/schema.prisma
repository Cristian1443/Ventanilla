generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
}

enum Prioridad {
  Alta
  Media
  Baja
}

enum EstadoTicket {
  Abierto
  En_Proceso
  En_Espera
  Cerrado
  Anulado
}

enum TipoEntidad {
  Persona_Natural
  Empresa_Local
  Empresa_Extranjera
}

model Ticket {
  idTicket          Int      @id @default(autoincrement())
  tipoSolicitud     String   @db.VarChar(50)
  descripcion       String   @db.VarChar(250)
  fechaSolicitud    DateTime @default(now())
  fechaAtencion     DateTime?
  fechaCierre       DateTime?
  prioridad         Prioridad
  diasResolucion    Int?      @default(1)
  ansFechaCompromiso DateTime?
  ansEstado         String    @default("A tiempo") @db.VarChar(20)
  ansCumplido       Boolean   @default(false)
  canal             String    @default("Web") @db.VarChar(20)
  estado            EstadoTicket @default(Abierto)
  usuarioGerencia   String?   @db.VarChar(50)
  usuarioNombre     String    @db.VarChar(80)
  usuarioCargo      String?   @db.VarChar(80)
  usuarioEmail      String    @db.VarChar(80)
  asignadoGerencia  String?   @db.VarChar(50)
  asignadoNombre    String?   @db.VarChar(80)
  asignadoEmail     String?   @db.VarChar(80)
  asignadoCargo     String?   @db.VarChar(80)
  tipoEntidad       TipoEntidad
  empresaNIT        String?   @db.VarChar(20)
  empresaNombre     String?   @db.VarChar(120)
  empresaContacto   String?   @db.VarChar(50)
  empresaCargo      String?   @db.VarChar(80)
  empresaTelefono   String?   @db.VarChar(20)
  empresaCorreo     String?   @db.VarChar(80)
  empresaPais       String?   @db.VarChar(50)
  empresaCiudad     String?   @db.VarChar(50)
  empresaSector     String?   @db.VarChar(80)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}
